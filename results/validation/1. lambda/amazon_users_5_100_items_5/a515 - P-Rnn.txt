
模型： PGru
模式： a515 - valid
耗时： 4个, h / 150epoch = min
调参： lambda: 0.001, 0.0001, 0.00001, 0.0
结论： 1.  alpha = 0.1, lamda = 0.001效果最好
      2.  p-RNN里最强的Parallel(res)其实没有效果。
          运行设置是前50轮用trainx，然后50轮traint，最后50轮traini，但是结果就只在前50轮里提高后就没有提高了。
      3.  联合训练时，用Output weight matrix没啥效果，但改为Bpr后，AUC立马升高，top-k需要调参。



【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【
    lambda = 0.001 - 【这个最好】
        --------------------------------------------------------------
        All values is the "best * 100" on epoch 145: | 2018.04.09 21:38:56
                AUC    = [58.0250],             [12]
                Recall = [0.6284, 1.1174, 1.4869, 2.0975],              [12  8  8  8]
                MAP    = [0.2078, 0.2383, 0.2546, 0.2706],              [10 11 10 10]
                NDCG   = [0.3917, 0.5557, 0.6560, 0.7989],              [10 11 11 10]
        cold_active | Intervals_cumsum:
                AUC    = [48.2392, 70.6616], [46.8592, 48.2392, 50.0542, 51.7554, 53.0394, 53.9734, 54.7347, 55.3617, 55.8576, 58.0250]
                Recall@30 = [0.0118, 3.3916], [0.0000, 0.0118, 0.0414, 0.0597, 0.1408, 0.1596, 0.1624, 0.2117, 0.2272, 1.4869]
        avg. time (train, user, test): 11s, 3s, 11s | lam: 0.001, 0.0, -1 | model: PGruParallelRes | tra_fea_zero: -1.0

    lambda = 0.0001
        --------------------------------------------------------------
        All values is the "best * 100" on epoch 149: | 2018.04.09 21:38:03
                AUC    = [57.0980],             [13]
                Recall = [0.5598, 0.9426, 1.2944, 1.9072],              [10  8  8  9]
                MAP    = [0.1957, 0.2173, 0.2306, 0.2452],              [ 6  6  6 10]
                NDCG   = [0.3634, 0.4780, 0.5797, 0.7269],              [10  9  9  9]
        cold_active | Intervals_cumsum:
                AUC    = [48.3098, 68.4461], [47.5940, 48.3098, 49.9618, 51.5507, 52.5773, 53.4972, 54.0999, 54.6014, 55.0318, 57.0980]
                Recall@30 = [0.0314, 2.9252], [0.0288, 0.0314, 0.0701, 0.0967, 0.1567, 0.1799, 0.2313, 0.2526, 0.3123, 1.2944]
        avg. time (train, user, test): 11s, 3s, 10s | lam: 0.0001, 0.0, -1 | model: PGruParallelRes | tra_fea_zero: -1.0

    lambda = 0.00001
        --------------------------------------------------------------
        All values is the "best * 100" on epoch 149: | 2018.04.09 21:34:58
                AUC    = [56.9342],             [12]
                Recall = [0.5487, 0.9691, 1.3076, 1.8564],              [7 9 8 8]
                MAP    = [0.1844, 0.2099, 0.2243, 0.2384],              [7 9 9 9]
                NDCG   = [0.3542, 0.4778, 0.5724, 0.7025],              [7 9 9 9]
        cold_active | Intervals_cumsum:
                AUC    = [48.8006, 67.4373], [47.9254, 48.8006, 50.1370, 51.5507, 52.5349, 53.4364, 54.0409, 54.4715, 54.8946, 56.9342]
                Recall@30 = [0.0196, 2.9708], [0.0288, 0.0196, 0.0351, 0.0682, 0.1408, 0.1799, 0.2140, 0.2743, 0.3502, 1.3076]
        avg. time (train, user, test): 9s, 3s, 11s | lam: 1e-05, 0.0, -1 | model: PGruParallelRes | tra_fea_zero: -1.0

    lambda = 0.0
        --------------------------------------------------------------
        All values is the "best * 100" on epoch 149: | 2018.04.09 21:34:00
                AUC    = [57.0006],             [9]
                Recall = [0.5576, 0.9204, 1.2700, 1.8785],              [10 10  8  9]
                MAP    = [0.1829, 0.2083, 0.2234, 0.2382],              [7 8 8 7]
                NDCG   = [0.3503, 0.4732, 0.5748, 0.7119],              [7 8 8 7]
        cold_active | Intervals_cumsum:
                AUC    = [48.4826, 68.0000], [47.9470, 48.4826, 50.1338, 51.4939, 52.5720, 53.3705, 53.9720, 54.5509, 54.9111, 57.0006]
                Recall@30 = [0.0157, 2.8897], [0.0144, 0.0157, 0.0669, 0.1222, 0.1806, 0.2077, 0.2288, 0.2911, 0.3076, 1.2700]
        avg. time (train, user, test): 10s, 3s, 11s | lam: 0.0, 0.0, -1 | model: PGruParallelRes | tra_fea_zero: -1.0





模型： PLstm
模式： a515 - valid
耗时： 4个, h / 150epoch = min
调参： lambda: 0.001, 0.0001, 0.00001, 0.0
结论： 1.  alpha = 0.1, lamda = 0.001效果最好
      2.  p-RNN里最强的Parallel(res)其实没有效果。
          运行设置是前50轮用trainx，然后50轮traint，最后50轮traini，但是结果就只在前50轮里提高后就没有提高了。
      3.  联合训练时，用Output weight matrix没啥效果，但改为Bpr后，AUC立马升高，top-k需要调参。



【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【【
    lambda = 0.001 - 【这个最好】
        -----------------------------------------------------------------
        All values is the "best * 100" on epoch 148: | 2018.04.12 13:50:24
                AUC    = [58.1998],             [17]
                Recall = [0.6859, 1.1594, 1.6152, 2.4294],              [12 12 15 16]
                MAP    = [0.2474, 0.2770, 0.2927, 0.3100],              [26 26 26 26]
                NDCG   = [0.4540, 0.5904, 0.7131, 0.8896],              [26 26 15 15]
        cold_active | Intervals_cumsum:
                AUC    = [47.5482, 71.9544], [46.9529, 47.5482, 49.6048, 51.4882, 52.9306, 54.0393, 54.7740, 55.4099, 55.9002, 58.1998]
                Recall@30 = [0.0000, 3.7009], [0.0000, 0.0000, 0.0223, 0.0483, 0.1381, 0.1773, 0.1944, 0.2286, 0.3029, 1.6152]
        avg. time (train, user, test): 30s, 7s, 12s | lam: 0.001, 0.0, -1 | model: PLstmParallelRes | tra_fea_zero: -1.0

    lambda = 0.0001
        -----------------------------------------------------------------
        All values is the "best * 100" on epoch 148: | 2018.04.12 13:46:33
                AUC    = [57.8458],             [13]
                Recall = [0.6439, 1.0399, 1.3939, 1.9825],              [ 8  9  8 10]
                MAP    = [0.2041, 0.2287, 0.2435, 0.2587],              [8 8 8 8]
                NDCG   = [0.4014, 0.5181, 0.6150, 0.7552],              [8 8 8 8]
        cold_active | Intervals_cumsum:
                AUC    = [48.5964, 69.7896], [47.3707, 48.5964, 50.3856, 51.9345, 53.0315, 53.9050, 54.6092, 55.1981, 55.6565, 57.8458]
                Recall@30 = [0.0118, 3.1787], [0.0144, 0.0118, 0.0542, 0.0768, 0.1647, 0.2077, 0.2411, 0.3320, 0.3455, 1.3939]
        avg. time (train, user, test): 30s, 5s, 12s | lam: 0.0001, 0.0, -1 | model: PLstmParallelRes | tra_fea_zero: -1.0

    lambda = 0.00001
        --------------------------------------------------------------
        All values is the "best * 100" on epoch 148: | 2018.04.12 13:48:15
                AUC    = [57.4852],             [13]
                Recall = [0.6195, 1.0244, 1.3784, 2.0334],              [ 9 11 12  9]
                MAP    = [0.2234, 0.2501, 0.2652, 0.2815],              [12 12 12 12]
                NDCG   = [0.4102, 0.5371, 0.6344, 0.7923],              [ 8 11 11 11]
        cold_active | Intervals_cumsum:
                AUC    = [48.5886, 68.9734], [47.3203, 48.5886, 49.9171, 51.5251, 52.6623, 53.5351, 54.2303, 54.7819, 55.2188, 57.4852]
                Recall@30 = [0.0079, 3.1483], [0.0000, 0.0079, 0.0191, 0.0682, 0.1514, 0.2001, 0.2140, 0.2767, 0.3573, 1.3784]
        avg. time (train, user, test): 30s, 5s, 12s | lam: 1e-05, 0.0, -1 | model: PLstmParallelRes | tra_fea_zero: -1.0

    lambda = 0.0
        --------------------------------------------------------------
        All values is the "best * 100" on epoch 148: | 2018.04.12 13:47:11
                AUC    = [57.0670],             [12]
                Recall = [0.6085, 1.0687, 1.4094, 1.9692],              [ 8 10 10 10]
                MAP    = [0.2006, 0.2327, 0.2452, 0.2600],              [ 8 10 10 10]
                NDCG   = [0.3853, 0.5333, 0.6213, 0.7570],              [ 8 10 10 10]
        cold_active | Intervals_cumsum:
                AUC    = [48.6239, 67.9696], [47.6877, 48.6239, 50.2294, 51.6957, 52.8190, 53.5402, 54.1639, 54.6375, 55.0437, 57.0670]
                Recall@30 = [0.0196, 3.2041], [0.0144, 0.0196, 0.0319, 0.0682, 0.1487, 0.1723, 0.2190, 0.2743, 0.3265, 1.4094]
        avg. time (train, user, test): 30s, 5s, 12s | lam: 0.0, 0.0, -1 | model: PLstmParallelRes | tra_fea_zero: -1.0



