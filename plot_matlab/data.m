
% ==========================================================================
% 建立的是两个数据集下性能指标在不同维度下的变化情况。
% 数据集: t5, a5
% 方法: 'POP', 'BPR', 'VBPR', 
%       'GRU', 'p-GRU', 'Con.', 'Fus.', '3mDAE-1U', '3mDAE-2U'
% 指标:  recall@30, map@30, ndcg@30, auc
clear;
clc;

data_dataset = {
    'TaoBao', 'Amazon'};
data_method = {
    'POP', 'BPR', 'VBPR', ...
    'LSTM', 'p-RNN', ...
    'Con.', 'Fus.', '3mDAE-1U', '3mDAE-2U'};
data_evaluation = {
    'Recall@30', 'MAP@30', 'NDCG@30', 'AUC'};
data_dimensionality = [
    10, 15, 20, 25];

% taobao四个指标下9中方法的维度值
t5_valid_weidu_recall_30 = {
    [0.8664, 0.8664, 0.8664, 0.8664]
    [0.6919, 0.6692, 0.6420, 0.6223]
    [0.7072, 0.6606, 0.6609, 0.6366]
    [1.0569, 1.0336, 1.1242, 1.1651]
    [0.9283, 0.9160, 0.8975, 0.9005]
    [1.1692, 1.3038, 1.3718, 1.4068]
    [1.1014, 1.2284, 1.3092, 1.3587]
    [1.1585, 1.2819, 1.3491, 1.4282]
    [0.9631, 1.1107, 1.1960, 1.2622]};
t5_valid_weidu_map_30 = {    
    [0.1956, 0.1956, 0.1956, 0.1956]
    [0.1472, 0.1356, 0.1366, 0.1266]
    [0.1472, 0.1346, 0.1376, 0.1272]
    [0.2303, 0.2416, 0.2865, 0.3068]
    [0.2371, 0.2319, 0.2315, 0.2408]
    [0.2820, 0.3181, 0.3578, 0.3774]
    [0.2497, 0.2836, 0.3317, 0.3563]
    [0.2540, 0.3110, 0.3419, 0.3652]
    [0.2266, 0.2925, 0.3530, 0.4042]};
t5_valid_weidu_ndcg_30 = { 
    [0.4467, 0.4467, 0.4467, 0.4467]
    [0.3477, 0.3297, 0.3211, 0.3044]
    [0.3503, 0.3244, 0.3271, 0.3088]
    [0.5366, 0.5464, 0.6026, 0.6487]
    [0.5078, 0.4758, 0.4788, 0.5010]
    [0.6259, 0.7024, 0.7614, 0.7931]
    [0.5632, 0.6426, 0.7179, 0.7553]
    [0.5900, 0.6884, 0.7384, 0.7863]
    [0.4922, 0.6212, 0.7090, 0.7784]};
t5_valid_weidu_auc = {
    [50.6655, 50.6655, 50.6655, 50.6655]/100
    [59.0055, 58.3323, 58.1499, 57.6278]/100
    [60.6865, 60.5001, 59.6497, 59.7859]/100
    [60.8505, 60.9728, 60.9972, 61.0156]/100
    [60.4859, 60.3986, 60.2854, 60.1991]/100
    [68.0255, 68.1924, 68.4563, 68.4442]/100
    [67.5221, 67.7484, 67.7883, 68.0042]/100
    [67.3786, 67.6155, 67.8190, 68.0249]/100
    [67.7042, 67.7721, 67.5919, 68.0245]/100};
t5_valid_weidu = {
    t5_valid_weidu_recall_30, t5_valid_weidu_map_30, ...
    t5_valid_weidu_ndcg_30, t5_valid_weidu_auc};

% data_method = {
%    'POP', 'BPR', 'VBPR', ...
%    'LSTM', 'p-RNN', 'Con.', 'Fus.', '3mDAE-1U', '3mDAE-2U'};
% amazon四个指标下9种方法的维度值
a5_valid_weidu_recall_30 = {
    [1.5554, 1.5554, 1.5554, 1.5554]
    [0.8364, 0.6948, 0.6925, 0.6328]
    [0.8961, 0.7788, 0.7987, 0.7412]
    [1.5975, 1.6130, 1.6041, 1.6484]
    [1.6041, 1.5864, 1.6152, 1.5687]
    [2.1351, 2.2458, 2.2502, 2.2480]
    [2.1860, 2.2170, 2.2480, 2.1528]
    [2.2745, 2.2391, 2.2369, 2.3011]
    [2.2524, 2.3232, 2.2834, 2.2900]};
a5_valid_weidu_map_30 = {    
    [0.2814, 0.2814, 0.2814, 0.2814]
    [0.1405, 0.1181, 0.1256, 0.1190]
    [0.1707, 0.1644, 0.1563, 0.1528]
    [0.3030, 0.3041, 0.3051, 0.3063]
    [0.3031, 0.3047, 0.2927, 0.2854]
    [0.4082, 0.4056, 0.4333, 0.4346]
    [0.4033, 0.4127, 0.4147, 0.4018]
    [0.4344, 0.4223, 0.4302, 0.4163]
    [0.3954, 0.4326, 0.4246, 0.4197]};
a5_valid_weidu_ndcg_30 = {
    [0.7103, 0.7103, 0.7103, 0.7103]
    [0.3608, 0.2957, 0.3125, 0.2863]
    [0.4153, 0.3704, 0.3691, 0.3479]
    [0.7245, 0.7262, 0.7171, 0.7449]
    [0.7201, 0.7195, 0.7131, 0.7067]
    [0.9790, 1.0146, 1.0486, 1.0445]
    [0.9799, 0.9984, 0.9978, 0.9868]
    [1.0208, 1.0247, 1.0383, 1.0315]
    [1.0010, 1.0499, 1.0349, 1.0285]};
a5_valid_weidu_auc = {
    [51.0222, 51.0222, 51.0222, 51.0222]/100
    [50.7235, 51.0797, 50.6328, 50.7700]/100
    [58.5118, 58.1224, 57.5427, 57.1267]/100
    [58.2972, 58.3591, 58.2507, 58.6490]/100
    [58.0582, 58.1180, 58.1998, 58.1578]/100
    [68.8158, 68.7694, 68.5061, 68.6189]/100
    [68.6786, 69.1543, 68.6764, 68.7140]/100
    [69.0658, 68.1520, 68.5083, 68.6300]/100
    [69.1101, 68.7561, 68.9508, 68.9973]/100};
a5_valid_weidu = {
    a5_valid_weidu_recall_30, a5_valid_weidu_map_30, ...
    a5_valid_weidu_ndcg_30, a5_valid_weidu_auc};


% =========================================================================
% 建立的是两个数据集下模型在recall@30、acu上的区间增长率。
% 数据集: t5, a5
% 方法: 'Con. vs. GRU', 'Fus. vs. GRU'
%       '3mDAE-1U vs. GRU', '3mDAE-2U vs. GRU'
% 指标:  recall@30, auc
data_method_growth_rate = {
    'Con. vs. GRU', 'Fus. vs. GRU', '3mDAE-1U vs. GRU', '3mDAE-2U vs. GRU'};
data_evaluation_growth_rate = {
    'Recall@30 (%)', 'AUC (%)'};
data_interval_idxs = [
    1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
data_interval_labels = {
    '[1, 2]', '[1, 4]', '[1, 6]', '[1, 8]', '[1, 10]', '[1, 12]', ...
    '[1, 14]', '[1, 16]', '[1, 18]', 'all'};

% taobao两个指标下5条区间增长率曲线
t5_test_interval_recall_30 = {
    [-0.2884, -0.1673, -0.1438, -0.1222, -0.0673, -0.0400, -0.0339, -0.0193, -0.0221, 0.3170]
    [-0.2822, -0.2205, -0.1807, -0.0867, -0.0275, 0.0088, 0.0538, 0.0671, 0.0944, 0.2241]
    [0.4934, 0.4590, 0.4714, 0.4853, 0.5621, 0.5580, 0.5598, 0.5986, 0.5904, 0.3282]
    [2.4612, 2.3705, 2.2929, 2.2721, 2.3536, 2.3171, 2.3157, 2.3343, 2.2530, 0.1646]};
t5_test_interval_auc = {
    [0.0369, 0.0833, 0.2156, 0.2794, 0.3103, 0.3281, 0.3363, 0.3425, 0.3436, 0.2167]
    [0.1299, 0.1741, 0.2555, 0.2950, 0.3136, 0.3244, 0.3300, 0.3318, 0.3323, 0.2164]
    [0.0298, 0.0698, 0.1823, 0.2382, 0.2673, 0.2852, 0.2956, 0.3012, 0.3040, 0.1992]
    [0.0225, 0.0667, 0.1939, 0.2537, 0.2817, 0.2996, 0.3083, 0.3133, 0.3154, 0.2013]};
t5_test_interval = {
    t5_test_interval_recall_30, t5_test_interval_auc};

% amazon两个指标下5条区间增长率曲线
a5_test_interval_recall_30 = {
    [300, 300, 300, 240.3214, 23.7246, 28.1170, 16.1480, 15.1353, 7.4534, 0.4262]
    [300, 300, 300, 198.2500, 20.0269, 24.6199, 14.3610, 14.0717, 6.7134, 0.4461]
    [300, 300, 300, 194.2500, 19.7186, 24.4064, 14.6828, 14.4790, 7.0834, 0.5110]
    [300, 300, 300, 196.2500, 20.1048, 24.5497, 14.6118, 14.5413, 7.0695, 0.4545]};
a5_test_interval_auc = {
    [0.3732, 0.3312, 0.3016, 0.2770, 0.2550, 0.2416, 0.2298, 0.2220, 0.2152, 0.1888]
    [0.3864, 0.3455, 0.3139, 0.2871, 0.2600, 0.2430, 0.2316, 0.2236, 0.2157, 0.1869]
    [0.3577, 0.3231, 0.2981, 0.2748, 0.2523, 0.2378, 0.2273, 0.2194, 0.2121, 0.1865]
    [0.3683, 0.3263, 0.2946, 0.2719, 0.2493, 0.2352, 0.2240, 0.2162, 0.2090, 0.1836]};
a5_test_interval = {
    a5_test_interval_recall_30, a5_test_interval_auc};

save data
clear t5_valid_weidu_recall_30 t5_valid_weidu_map_30 t5_valid_weidu_ndcg_30 t5_valid_weidu_auc
clear a5_valid_weidu_recall_30 a5_valid_weidu_map_30 a5_valid_weidu_ndcg_30 a5_valid_weidu_auc

clear t5_test_interval_recall_30 t5_test_interval_auc 
clear a5_test_interval_recall_30 a5_test_interval_auc
disp('Saving to: data.mat');


